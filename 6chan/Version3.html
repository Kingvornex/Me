<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6chan - Community Imageboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        :root {
            --primary-color: #5e72e4;
            --secondary-color: #825ee4;
            --success-color: #2dce89;
            --info-color: #11cdef;
            --warning-color: #fb6340;
            --danger-color: #f5365c;
            --light: #f8f9fe;
            --dark: #32325d;
            --white: #ffffff;
            --gray: #8898aa;
            --border-radius: 0.375rem;
            --box-shadow: 0 15px 35px rgba(50, 50, 93, 0.1), 0 5px 15px rgba(0, 0, 0, 0.07);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        [data-theme="dark"] {
            --light: #1a1d29;
            --dark: #f4f5f7;
            --white: #212530;
            --gray: #8898aa;
            --card-bg: #212530;
            --text-color: #f4f5f7;
            --border-color: #343845;
        }

        body {
            font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
            transition: var(--transition);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            border-radius: var(--border-radius);
            padding: 20px 30px;
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkZWZzPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSg0NSkiPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0icmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA1KSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNwYXR0ZXJuKSIvPjwvc3ZnPg==');
            opacity: 0.1;
        }

        header h1 a {
            text-decoration: none;
            color: var(--white);
            font-size: 2.2rem;
            font-weight: 700;
            letter-spacing: -0.025em;
            position: relative;
            z-index: 1;
            transition: var(--transition);
        }

        header h1 a:hover {
            transform: translateY(-2px);
        }

        .header-actions {
            display: flex;
            gap: 15px;
            align-items: center;
            position: relative;
            z-index: 1;
        }

        .theme-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: var(--white);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(15deg);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
        }

        .user-profile:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-color);
            font-weight: 700;
        }

        .user-info {
            color: var(--white);
        }

        .user-reputation {
            font-size: 0.8rem;
            opacity: 0.9;
        }

        .board-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .board {
            background: var(--white);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            position: relative;
        }

        [data-theme="dark"] .board {
            background: var(--card-bg);
        }

        .board:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(50, 50, 93, 0.15), 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .board-image {
            width: 100%;
            height: 150px;
            object-fit: cover;
            position: relative;
        }

        .board-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 150px;
            background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);
            display: flex;
            align-items: flex-end;
            padding: 20px;
        }

        .board-stats {
            display: flex;
            gap: 15px;
            margin-bottom: 10px;
        }

        .stat {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--white);
            font-size: 0.85rem;
        }

        .board-content {
            padding: 20px;
        }

        .board-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--dark);
        }

        [data-theme="dark"] .board-title {
            color: var(--text-color);
        }

        .board-description {
            color: var(--gray);
            font-size: 0.95rem;
            margin-bottom: 15px;
        }

        .board-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-color);
            color: var(--white);
        }

        .btn-primary:hover {
            background: #4c63d2;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: var(--info-color);
            color: var(--white);
        }

        .btn-secondary:hover {
            background: #0da5c0;
            transform: translateY(-2px);
        }

        .community-section {
            background: var(--white);
            border-radius: var(--border-radius);
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
        }

        [data-theme="dark"] .community-section {
            background: var(--card-bg);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--dark);
        }

        [data-theme="dark"] .section-title {
            color: var(--text-color);
        }

        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }

        .event-card {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 20px;
            border-left: 4px solid var(--info-color);
            transition: var(--transition);
        }

        [data-theme="dark"] .event-card {
            background: var(--border-color);
        }

        .event-card:hover {
            transform: translateX(5px);
        }

        .event-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--dark);
        }

        [data-theme="dark"] .event-title {
            color: var(--text-color);
        }

        .event-date {
            color: var(--gray);
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .event-participants {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
        }

        .participants-avatars {
            display: flex;
        }

        .participant-avatar {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: var(--primary-color);
            color: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            margin-left: -10px;
            border: 2px solid var(--white);
        }

        [data-theme="dark"] .participant-avatar {
            border-color: var(--card-bg);
        }

        .participant-avatar:first-child {
            margin-left: 0;
        }

        .threads-container {
            background: var(--white);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--box-shadow);
        }

        [data-theme="dark"] .threads-container {
            background: var(--card-bg);
        }

        .thread {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            transition: var(--transition);
        }

        [data-theme="dark"] .thread {
            border-color: var(--border-color);
        }

        .thread:hover {
            background: var(--light);
        }

        [data-theme="dark"] .thread:hover {
            background: var(--border-color);
        }

        .thread-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .thread-meta {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .thread-author {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .author-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--primary-color);
            color: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .author-info {
            display: flex;
            flex-direction: column;
        }

        .author-name {
            font-weight: 600;
            color: var(--dark);
        }

        [data-theme="dark"] .author-name {
            color: var(--text-color);
        }

        .author-flair {
            font-size: 0.75rem;
            padding: 2px 8px;
            border-radius: 12px;
            background: var(--info-color);
            color: var(--white);
            display: inline-block;
        }

        .thread-stats {
            display: flex;
            gap: 15px;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--gray);
            font-size: 0.9rem;
        }

        .thread-content {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
        }

        .thread-image {
            width: 120px;
            height: 120px;
            border-radius: var(--border-radius);
            object-fit: cover;
            flex-shrink: 0;
        }

        .thread-text {
            flex: 1;
        }

        .thread-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--dark);
        }

        [data-theme="dark"] .thread-title {
            color: var(--text-color);
        }

        .thread-excerpt {
            color: var(--gray);
            line-height: 1.5;
        }

        .thread-actions {
            display: flex;
            gap: 15px;
        }

        .action-btn {
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: var(--transition);
        }

        .action-btn:hover {
            color: var(--primary-color);
        }

        .action-btn.upvoted {
            color: var(--success-color);
        }

        .action-btn.reported {
            color: var(--danger-color);
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .modal.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--white);
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            transform: translateY(20px);
            transition: var(--transition);
        }

        [data-theme="dark"] .modal-content {
            background: var(--card-bg);
        }

        .modal.show .modal-content {
            transform: translateY(0);
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        [data-theme="dark"] .modal-header {
            border-color: var(--border-color);
        }

        .modal-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--dark);
        }

        [data-theme="dark"] .modal-title {
            color: var(--text-color);
        }

        .modal-body {
            padding: 20px;
        }

        .modal-footer {
            padding: 20px;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        [data-theme="dark"] .modal-footer {
            border-color: var(--border-color);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }

        [data-theme="dark"] .form-label {
            color: var(--text-color);
        }

        .form-control {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            background: var(--white);
            color: var(--dark);
            transition: var(--transition);
        }

        [data-theme="dark"] .form-control {
            background: var(--border-color);
            color: var(--text-color);
            border-color: var(--border-color);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(94, 114, 228, 0.1);
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 2000;
            transform: translateX(120%);
            transition: var(--transition);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: var(--success-color);
            color: var(--white);
        }

        .notification.error {
            background: var(--danger-color);
            color: var(--white);
        }

        .notification.info {
            background: var(--info-color);
            color: var(--white);
        }

        .hidden {
            display: none !important;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            header {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
            
            .board-list {
                grid-template-columns: 1fr;
            }
            
            .events-grid {
                grid-template-columns: 1fr;
            }
            
            .thread-content {
                flex-direction: column;
            }
            
            .thread-image {
                width: 100%;
                height: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><a href="#" id="home-link">6chan</a></h1>
            <div class="header-actions">
                <button class="theme-toggle" id="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
                <div class="user-profile">
                    <div class="user-avatar">A</div>
                    <div class="user-info">
                        <div>Anonymous</div>
                        <div class="user-reputation"><i class="fas fa-star"></i> 120 Rep</div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Home Page -->
        <div id="home-page">
            <div class="board-list">
                <div class="board">
                    <img class="board-image" src="https://picsum.photos/seed/random/400/200.jpg" alt="Random board">
                    <div class="board-overlay">
                        <div class="board-stats">
                            <div class="stat"><i class="fas fa-comments"></i> 1.2k Threads</div>
                            <div class="stat"><i class="fas fa-users"></i> 5.4k Members</div>
                        </div>
                    </div>
                    <div class="board-content">
                        <h3 class="board-title">/b/ - Random</h3>
                        <p class="board-description">Random content and discussions</p>
                        <div class="board-actions">
                            <button class="btn btn-primary board-link" data-board="random">
                                <i class="fas fa-arrow-right"></i> Enter Board
                            </button>
                            <button class="btn btn-secondary propose-image" data-board="random">
                                <i class="fas fa-image"></i> Change Image
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="board">
                    <img class="board-image" src="https://picsum.photos/seed/tech/400/200.jpg" alt="Tech board">
                    <div class="board-overlay">
                        <div class="board-stats">
                            <div class="stat"><i class="fas fa-comments"></i> 856 Threads</div>
                            <div class="stat"><i class="fas fa-users"></i> 3.2k Members</div>
                        </div>
                    </div>
                    <div class="board-content">
                        <h3 class="board-title">/tech/ - Technology</h3>
                        <p class="board-description">Computers, gadgets, and tech news</p>
                        <div class="board-actions">
                            <button class="btn btn-primary board-link" data-board="tech">
                                <i class="fas fa-arrow-right"></i> Enter Board
                            </button>
                            <button class="btn btn-secondary propose-image" data-board="tech">
                                <i class="fas fa-image"></i> Change Image
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="board">
                    <img class="board-image" src="https://picsum.photos/seed/anime/400/200.jpg" alt="Anime board">
                    <div class="board-overlay">
                        <div class="board-stats">
                            <div class="stat"><i class="fas fa-comments"></i> 642 Threads</div>
                            <div class="stat"><i class="fas fa-users"></i> 2.8k Members</div>
                        </div>
                    </div>
                    <div class="board-content">
                        <h3 class="board-title">/a/ - Anime</h3>
                        <p class="board-description">Japanese animation and manga</p>
                        <div class="board-actions">
                            <button class="btn btn-primary board-link" data-board="anime">
                                <i class="fas fa-arrow-right"></i> Enter Board
                            </button>
                            <button class="btn btn-secondary propose-image" data-board="anime">
                                <i class="fas fa-image"></i> Change Image
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="board">
                    <img class="board-image" src="https://picsum.photos/seed/games/400/200.jpg" alt="Games board">
                    <div class="board-overlay">
                        <div class="board-stats">
                            <div class="stat"><i class="fas fa-comments"></i> 923 Threads</div>
                            <div class="stat"><i class="fas fa-users"></i> 4.1k Members</div>
                        </div>
                    </div>
                    <div class="board-content">
                        <h3 class="board-title">/v/ - Video Games</h3>
                        <p class="board-description">Gaming discussions and news</p>
                        <div class="board-actions">
                            <button class="btn btn-primary board-link" data-board="games">
                                <i class="fas fa-arrow-right"></i> Enter Board
                            </button>
                            <button class="btn btn-secondary propose-image" data-board="games">
                                <i class="fas fa-image"></i> Change Image
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Community Events Section -->
            <div class="community-section">
                <div class="section-header">
                    <h2 class="section-title">Community Events</h2>
                    <button class="btn btn-primary" id="create-event">
                        <i class="fas fa-plus"></i> Create Event
                    </button>
                </div>
                <div class="events-grid" id="events-grid">
                    <div class="event-card">
                        <h3 class="event-title">Game Night: Among Us</h3>
                        <div class="event-date"><i class="far fa-calendar"></i> July 20, 2024 - 8:00 PM</div>
                        <p>Join us for a fun evening of deception and teamwork in Among Us!</p>
                        <div class="event-participants">
                            <div class="participants-avatars">
                                <div class="participant-avatar">A</div>
                                <div class="participant-avatar">B</div>
                                <div class="participant-avatar">C</div>
                                <div class="participant-avatar">+12</div>
                            </div>
                            <button class="btn btn-primary btn-sm">Join</button>
                        </div>
                    </div>
                    
                    <div class="event-card">
                        <h3 class="event-title">Anime Stream: Attack on Titan</h3>
                        <div class="event-date"><i class="far fa-calendar"></i> July 22, 2024 - 7:00 PM</div>
                        <p>Watch the latest episodes together and discuss theories!</p>
                        <div class="event-participants">
                            <div class="participants-avatars">
                                <div class="participant-avatar">D</div>
                                <div class="participant-avatar">E</div>
                                <div class="participant-avatar">F</div>
                                <div class="participant-avatar">+8</div>
                            </div>
                            <button class="btn btn-primary btn-sm">Join</button>
                        </div>
                    </div>
                    
                    <div class="event-card">
                        <h3 class="event-title">Tech Talk: AI Future</h3>
                        <div class="event-date"><i class="far fa-calendar"></i> July 25, 2024 - 6:00 PM</div>
                        <p>Discussion about the future of artificial intelligence</p>
                        <div class="event-participants">
                            <div class="participants-avatars">
                                <div class="participant-avatar">G</div>
                                <div class="participant-avatar">H</div>
                                <div class="participant-avatar">I</div>
                                <div class="participant-avatar">+5</div>
                            </div>
                            <button class="btn btn-primary btn-sm">Join</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Board Page -->
        <div id="board-page" class="hidden">
            <div class="board-header">
                <h2 id="board-title">/b/ - Random</h2>
                <div class="board-actions">
                    <button class="btn btn-primary" id="new-thread">
                        <i class="fas fa-plus"></i> New Thread
                    </button>
                    <button class="btn btn-secondary" id="propose-image">
                        <i class="fas fa-image"></i> Change Board Image
                    </button>
                </div>
            </div>
            
            <!-- Image Proposal Section -->
            <div id="image-proposal" class="community-section hidden">
                <div class="section-header">
                    <h3 class="section-title">Board Image Proposal</h3>
                </div>
                <img id="proposal-image" class="proposal-image" src="" alt="Proposed board image">
                <p id="proposal-info">No active proposal</p>
                <div class="vote-buttons">
                    <button class="btn btn-success" id="upvote-btn">
                        <i class="fas fa-thumbs-up"></i> Upvote
                    </button>
                    <button class="btn btn-danger" id="downvote-btn">
                        <i class="fas fa-thumbs-down"></i> Downvote
                    </button>
                </div>
                <div class="vote-count">
                    <span id="upvote-count">0 upvotes</span>
                    <span id="downvote-count">0 downvotes</span>
                </div>
                <div class="vote-progress">
                    <div class="vote-progress-bar" id="vote-progress-bar"></div>
                </div>
            </div>
            
            <div class="threads-container" id="threads-container">
                <!-- Threads will be dynamically loaded here -->
            </div>
        </div>

        <!-- Thread Page -->
        <div id="thread-page" class="hidden">
            <div class="thread-header">
                <button class="btn btn-secondary" id="back-to-board">
                    <i class="fas fa-arrow-left"></i> Back to Board
                </button>
            </div>
            
            <div id="thread-view" class="thread-view">
                <!-- Thread and replies will be dynamically loaded here -->
            </div>
            
            <div class="community-section">
                <h3 class="section-title">Post a Reply</h3>
                <form id="reply-form">
                    <div class="form-group">
                        <textarea class="form-control" placeholder="Write your reply..." rows="4" required></textarea>
                    </div>
                    <div class="form-options">
                        <input type="file" id="file-upload" accept="image/*" class="hidden">
                        <label for="file-upload" class="btn btn-secondary">
                            <i class="fas fa-image"></i> Add Image
                        </label>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i> Post Reply
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Image Proposal Modal -->
    <div id="proposal-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Propose New Board Image</h3>
                <button class="close-modal" id="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Image URL</label>
                    <input type="text" class="form-control" id="image-url" placeholder="https://example.com/image.jpg">
                </div>
                <div class="form-group">
                    <label class="form-label">Reason for Change (Optional)</label>
                    <textarea class="form-control" rows="3" placeholder="Explain why this image would be better for the board..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-proposal">Cancel</button>
                <button class="btn btn-primary" id="submit-proposal">Submit Proposal</button>
            </div>
        </div>
    </div>

    <!-- Event Creation Modal -->
    <div id="event-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Create Community Event</h3>
                <button class="close-modal" id="close-event-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Event Title</label>
                    <input type="text" class="form-control" id="event-title" placeholder="Game Night, Movie Stream, etc.">
                </div>
                <div class="form-group">
                    <label class="form-label">Event Date</label>
                    <input type="datetime-local" class="form-control" id="event-date">
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea class="form-control" rows="3" id="event-description" placeholder="Describe your event..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-event">Cancel</button>
                <button class="btn btn-primary" id="submit-event">Create Event</button>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notification-text">Notification message</span>
    </div>

    <script>
        // Sample data
        const boards = {
            random: { 
                name: 'Random', 
                description: 'Random content',
                image: 'https://picsum.photos/seed/random/400/200.jpg',
                threads: 1200,
                members: 5400,
                proposal: null
            },
            tech: { 
                name: 'Technology', 
                description: 'Computers & gadgets',
                image: 'https://picsum.photos/seed/tech/400/200.jpg',
                threads: 856,
                members: 3200,
                proposal: null
            },
            anime: { 
                name: 'Anime', 
                description: 'Japanese animation',
                image: 'https://picsum.photos/seed/anime/400/200.jpg',
                threads: 642,
                members: 2800,
                proposal: null
            },
            games: { 
                name: 'Video Games', 
                description: 'Video game discussions',
                image: 'https://picsum.photos/seed/games/400/200.jpg',
                threads: 923,
                members: 4100,
                proposal: null
            }
        };

        const threads = {
            random: [
                { 
                    id: 1, 
                    title: "What's your favorite color?",
                    content: 'This is a random thread about nothing in particular. What\'s your favorite color?', 
                    timestamp: '07/15/24(Sun)12:34', 
                    image: 'https://picsum.photos/seed/6chan1/150/150.jpg',
                    author: 'Anonymous',
                    flair: 'Regular',
                    upvotes: 24,
                    downvotes: 3,
                    replies: 15
                },
                { 
                    id: 2, 
                    title: "Cool sunset I found",
                    content: 'Just found this cool image. Thoughts?', 
                    timestamp: '07/15/24(Sun)11:22', 
                    image: 'https://picsum.photos/seed/6chan2/150/150.jpg',
                    author: 'Anonymous',
                    flair: 'Newbie',
                    upvotes: 42,
                    downvotes: 1,
                    replies: 8
                },
                { 
                    id: 3, 
                    title: "Share your favorite memes",
                    content: 'ITT: We share our favorite memes', 
                    timestamp: '07/15/24(Sun)09:45',
                    author: 'Anonymous',
                    flair: 'Contributor',
                    upvotes: 67,
                    downvotes: 2,
                    replies: 32
                }
            ],
            tech: [
                { 
                    id: 4, 
                    title: "Best programming language?",
                    content: 'What do you think is the best programming language and why?', 
                    timestamp: '07/15/24(Sun)10:15',
                    author: 'Anonymous',
                    flair: 'Expert',
                    upvotes: 89,
                    downvotes: 5,
                    replies: 45
                }
            ],
            anime: [
                { 
                    id: 5, 
                    title: "What are you watching this season?",
                    content: 'What are you watching this season?', 
                    timestamp: '07/15/24(Sun)08:30',
                    author: 'Anonymous',
                    flair: 'Regular',
                    upvotes: 56,
                    downvotes: 3,
                    replies: 28
                }
            ],
            games: [
                { 
                    id: 6, 
                    title: "Upcoming games you're excited about?",
                    content: 'Any upcoming games you\'re excited about?', 
                    timestamp: '07/15/24(Sun)13:20',
                    author: 'Anonymous',
                    flair: 'Newbie',
                    upvotes: 73,
                    downvotes: 4,
                    replies: 39
                }
            ]
        };

        const posts = {
            1: [
                { id: 1, content: 'Blue, no question about it. What about you OP?', timestamp: '07/15/24(Sun)12:45', author: 'Anonymous', flair: 'Regular' },
                { id: 2, content: 'Green is the superior color. Nature agrees with me.', timestamp: '07/15/24(Sun)12:52', author: 'Anonymous', flair: 'Contributor', image: 'https://picsum.photos/seed/6chan3/100/100.jpg' },
                { id: 3, content: 'Red. It\'s the color of passion and energy.', timestamp: '07/15/24(Sun)13:05', author: 'Anonymous', flair: 'Newbie' }
            ],
            2: [
                { id: 4, content: 'Looks like a sunset!', timestamp: '07/15/24(Sun)11:30', author: 'Anonymous', flair: 'Regular' }
            ],
            4: [
                { id: 5, content: 'JavaScript is the best because it runs everywhere!', timestamp: '07/15/24(Sun)10:30', author: 'Anonymous', flair: 'Expert' },
                { id: 6, content: 'Rust is the future. Memory safety without garbage collection.', timestamp: '07/15/24(Sun)10:45', author: 'Anonymous', flair: 'Contributor' }
            ],
            5: [
                { id: 7, content: 'Watching Oshi no Ko, it\'s amazing!', timestamp: '07/15/24(Sun)09:00', author: 'Anonymous', flair: 'Regular' },
                { id: 8, content: 'Jujutsu Kaisen season 2 is great too.', timestamp: '07/15/24(Sun)09:15', author: 'Anonymous', flair: 'Newbie' }
            ],
            6: [
                { id: 9, content: 'Really looking forward to Starfield!', timestamp: '07/15/24(Sun)14:00', author: 'Anonymous', flair: 'Contributor' },
                { id: 10, content: 'I\'m more excited for Spider-Man 2.', timestamp: '07/15/24(Sun)14:15', author: 'Anonymous', flair: 'Regular' }
            ]
        };

        // Current state
        let currentBoard = null;
        let currentThread = null;
        let userVotes = {}; // Track user votes to prevent multiple votes
        let userReports = {}; // Track user reports
        let darkMode = false;

        // DOM elements
        const homePage = document.getElementById('home-page');
        const boardPage = document.getElementById('board-page');
        const threadPage = document.getElementById('thread-page');
        const boardTitle = document.getElementById('board-title');
        const threadsContainer = document.getElementById('threads-container');
        const threadView = document.getElementById('thread-view');
        const backToBoard = document.getElementById('back-to-board');
        const replyForm = document.getElementById('reply-form');
        const notification = document.getElementById('notification');
        const notificationText = document.getElementById('notification-text');
        const imageProposal = document.getElementById('image-proposal');
        const proposalModal = document.getElementById('proposal-modal');
        const eventModal = document.getElementById('event-modal');
        const closeModal = document.getElementById('close-modal');
        const closeEventModal = document.getElementById('close-event-modal');
        const submitProposal = document.getElementById('submit-proposal');
        const submitEvent = document.getElementById('submit-event');
        const cancelProposal = document.getElementById('cancel-proposal');
        const cancelEvent = document.getElementById('cancel-event');
        const imageUrl = document.getElementById('image-url');
        const upvoteBtn = document.getElementById('upvote-btn');
        const downvoteBtn = document.getElementById('downvote-btn');
        const upvoteCount = document.getElementById('upvote-count');
        const downvoteCount = document.getElementById('downvote-count');
        const voteProgressBar = document.getElementById('vote-progress-bar');
        const proposalImage = document.getElementById('proposal-image');
        const proposalInfo = document.getElementById('proposal-info');
        const themeToggle = document.getElementById('theme-toggle');
        const createEvent = document.getElementById('create-event');
        const eventsGrid = document.getElementById('events-grid');

        // Theme toggle
        themeToggle.addEventListener('click', () => {
            darkMode = !darkMode;
            document.documentElement.setAttribute('data-theme', darkMode ? 'dark' : 'light');
            themeToggle.innerHTML = darkMode ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
            localStorage.setItem('darkMode', darkMode);
        });

        // Check for saved theme preference
        if (localStorage.getItem('darkMode') === 'true') {
            darkMode = true;
            document.documentElement.setAttribute('data-theme', 'dark');
            themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
        }

        // Navigation
        document.getElementById('home-link').addEventListener('click', (e) => {
            e.preventDefault();
            showHomePage();
        });

        document.querySelectorAll('.board-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const board = e.currentTarget.dataset.board;
                showBoardPage(board);
            });
        });

        document.querySelectorAll('.propose-image').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                currentBoard = e.currentTarget.dataset.board;
                proposalModal.classList.add('show');
            });
        });

        document.getElementById('new-thread').addEventListener('click', () => {
            showNotification('New thread created! (This is a demo)', 'success');
        });

        document.getElementById('propose-image').addEventListener('click', () => {
            proposalModal.classList.add('show');
        });

        closeModal.addEventListener('click', () => {
            proposalModal.classList.remove('show');
            imageUrl.value = '';
        });

        closeEventModal.addEventListener('click', () => {
            eventModal.classList.remove('show');
            document.getElementById('event-title').value = '';
            document.getElementById('event-date').value = '';
            document.getElementById('event-description').value = '';
        });

        cancelProposal.addEventListener('click', () => {
            proposalModal.classList.remove('show');
            imageUrl.value = '';
        });

        cancelEvent.addEventListener('click', () => {
            eventModal.classList.remove('show');
            document.getElementById('event-title').value = '';
            document.getElementById('event-date').value = '';
            document.getElementById('event-description').value = '';
        });

        submitProposal.addEventListener('click', () => {
            const url = imageUrl.value.trim();
            if (url) {
                // Create a new proposal
                boards[currentBoard].proposal = {
                    url: url,
                    upvotes: 0,
                    downvotes: 0,
                    timestamp: new Date().toISOString()
                };
                
                // Reset user votes for this board
                userVotes[currentBoard] = null;
                
                // Update the UI
                updateImageProposal();
                proposalModal.classList.remove('show');
                imageUrl.value = '';
                
                showNotification('Image proposal submitted! Community voting is now open.', 'success');
            } else {
                showNotification('Please enter a valid image URL.', 'error');
            }
        });

        createEvent.addEventListener('click', () => {
            eventModal.classList.add('show');
        });

        submitEvent.addEventListener('click', () => {
            const title = document.getElementById('event-title').value.trim();
            const date = document.getElementById('event-date').value;
            const description = document.getElementById('event-description').value.trim();
            
            if (title && date && description) {
                // Create new event card
                const eventCard = document.createElement('div');
                eventCard.className = 'event-card';
                
                const eventDate = new Date(date);
                const formattedDate = eventDate.toLocaleDateString() + ' - ' + eventDate.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                
                eventCard.innerHTML = `
                    <h3 class="event-title">${title}</h3>
                    <div class="event-date"><i class="far fa-calendar"></i> ${formattedDate}</div>
                    <p>${description}</p>
                    <div class="event-participants">
                        <div class="participants-avatars">
                            <div class="participant-avatar">A</div>
                            <div class="participant-avatar">+0</div>
                        </div>
                        <button class="btn btn-primary btn-sm">Join</button>
                    </div>
                `;
                
                eventsGrid.appendChild(eventCard);
                
                // Reset form and close modal
                document.getElementById('event-title').value = '';
                document.getElementById('event-date').value = '';
                document.getElementById('event-description').value = '';
                eventModal.classList.remove('show');
                
                showNotification('Event created successfully!', 'success');
            } else {
                showNotification('Please fill in all fields.', 'error');
            }
        });

        upvoteBtn.addEventListener('click', () => {
            if (userVotes[currentBoard] !== 'up') {
                if (boards[currentBoard].proposal) {
                    if (userVotes[currentBoard] === 'down') {
                        boards[currentBoard].proposal.downvotes--;
                    }
                    boards[currentBoard].proposal.upvotes++;
                    userVotes[currentBoard] = 'up';
                    updateImageProposal();
                    checkProposalApproval();
                }
            }
        });

        downvoteBtn.addEventListener('click', () => {
            if (userVotes[currentBoard] !== 'down') {
                if (boards[currentBoard].proposal) {
                    if (userVotes[currentBoard] === 'up') {
                        boards[currentBoard].proposal.upvotes--;
                    }
                    boards[currentBoard].proposal.downvotes++;
                    userVotes[currentBoard] = 'down';
                    updateImageProposal();
                }
            }
        });

        backToBoard.addEventListener('click', (e) => {
            e.preventDefault();
            showBoardPage(currentBoard);
        });

        replyForm.addEventListener('submit', (e) => {
            e.preventDefault();
            showNotification('Reply posted! (This is a demo)', 'success');
            replyForm.reset();
        });

        // Functions to show different pages
        function showHomePage() {
            homePage.classList.remove('hidden');
            boardPage.classList.add('hidden');
            threadPage.classList.add('hidden');
            currentBoard = null;
            currentThread = null;
        }

        function showBoardPage(boardId) {
            currentBoard = boardId;
            currentThread = null;
            
            homePage.classList.add('hidden');
            boardPage.classList.remove('hidden');
            threadPage.classList.add('hidden');
            
            // Update board title
            boardTitle.textContent = `/${boardId}/ - ${boards[boardId].name}`;
            
            // Update image proposal section
            updateImageProposal();
            
            // Load threads
            loadThreads(boardId);
        }

        function showThreadPage(threadId) {
            currentThread = threadId;
            
            homePage.classList.add('hidden');
            boardPage.classList.add('hidden');
            threadPage.classList.remove('hidden');
            
            // Load thread and replies
            loadThread(threadId);
        }

        function updateImageProposal() {
            if (boards[currentBoard].proposal) {
                imageProposal.classList.remove('hidden');
                proposalImage.src = boards[currentBoard].proposal.url;
                
                const totalVotes = boards[currentBoard].proposal.upvotes + boards[currentBoard].proposal.downvotes;
                const upvotePercentage = totalVotes > 0 ? 
                    (boards[currentBoard].proposal.upvotes / totalVotes) * 100 : 0;
                
                upvoteCount.textContent = `${boards[currentBoard].proposal.upvotes} upvotes`;
                downvoteCount.textContent = `${boards[currentBoard].proposal.downvotes} downvotes`;
                voteProgressBar.style.width = `${upvotePercentage}%`;
                
                // Update button states based on user's vote
                if (userVotes[currentBoard] === 'up') {
                    upvoteBtn.style.opacity = '0.7';
                    downvoteBtn.style.opacity = '1';
                } else if (userVotes[currentBoard] === 'down') {
                    upvoteBtn.style.opacity = '1';
                    downvoteBtn.style.opacity = '0.7';
                } else {
                    upvoteBtn.style.opacity = '1';
                    downvoteBtn.style.opacity = '1';
                }
                
                // Update proposal info
                const date = new Date(boards[currentBoard].proposal.timestamp);
                proposalInfo.textContent = `Proposed on ${date.toLocaleDateString()} at ${date.toLocaleTimeString()}`;
            } else {
                imageProposal.classList.add('hidden');
            }
        }

        function checkProposalApproval() {
            if (boards[currentBoard].proposal) {
                const totalVotes = boards[currentBoard].proposal.upvotes + boards[currentBoard].proposal.downvotes;
                const upvotePercentage = totalVotes > 0 ? 
                    (boards[currentBoard].proposal.upvotes / totalVotes) * 100 : 0;
                
                // Approval criteria: at least 10 votes and 75% upvotes
                if (totalVotes >= 10 && upvotePercentage >= 75) {
                    // Approve the proposal
                    boards[currentBoard].image = boards[currentBoard].proposal.url;
                    boards[currentBoard].proposal = null;
                    userVotes[currentBoard] = null;
                    
                    // Update the board image on the home page
                    const boardElements = document.querySelectorAll('.board-link');
                    boardElements.forEach(el => {
                        if (el.dataset.board === currentBoard) {
                            const boardEl = el.closest('.board');
                            const boardImage = boardEl.querySelector('.board-image');
                            boardImage.src = boards[currentBoard].image;
                        }
                    });
                    
                    // Hide the proposal section
                    imageProposal.classList.add('hidden');
                    
                    showNotification('Community vote passed! Board image updated.', 'success');
                }
            }
        }

        function loadThreads(boardId) {
            threadsContainer.innerHTML = '';
            
            if (threads[boardId]) {
                threads[boardId].forEach(thread => {
                    const threadEl = document.createElement('div');
                    threadEl.className = 'thread';
                    
                    const threadHeader = document.createElement('div');
                    threadHeader.className = 'thread-header';
                    
                    const threadMeta = document.createElement('div');
                    threadMeta.className = 'thread-meta';
                    
                    const threadAuthor = document.createElement('div');
                    threadAuthor.className = 'thread-author';
                    
                    const authorAvatar = document.createElement('div');
                    authorAvatar.className = 'author-avatar';
                    authorAvatar.textContent = thread.author.charAt(0).toUpperCase();
                    
                    const authorInfo = document.createElement('div');
                    authorInfo.className = 'author-info';
                    
                    const authorName = document.createElement('div');
                    authorName.className = 'author-name';
                    authorName.textContent = thread.author;
                    
                    const authorFlair = document.createElement('div');
                    authorFlair.className = 'author-flair';
                    authorFlair.textContent = thread.flair;
                    
                    authorInfo.appendChild(authorName);
                    authorInfo.appendChild(authorFlair);
                    
                    threadAuthor.appendChild(authorAvatar);
                    threadAuthor.appendChild(authorInfo);
                    
                    const threadStats = document.createElement('div');
                    threadStats.className = 'thread-stats';
                    
                    const upvotes = document.createElement('div');
                    upvotes.className = 'stat-item';
                    upvotes.innerHTML = `<i class="fas fa-thumbs-up"></i> ${thread.upvotes}`;
                    
                    const downvotes = document.createElement('div');
                    downvotes.className = 'stat-item';
                    downvotes.innerHTML = `<i class="fas fa-thumbs-down"></i> ${thread.downvotes}`;
                    
                    const replies = document.createElement('div');
                    replies.className = 'stat-item';
                    replies.innerHTML = `<i class="fas fa-comment"></i> ${thread.replies}`;
                    
                    threadStats.appendChild(upvotes);
                    threadStats.appendChild(downvotes);
                    threadStats.appendChild(replies);
                    
                    threadMeta.appendChild(threadAuthor);
                    threadMeta.appendChild(threadStats);
                    
                    const threadContent = document.createElement('div');
                    threadContent.className = 'thread-content';
                    
                    if (thread.image) {
                        const img = document.createElement('img');
                        img.src = thread.image;
                        img.alt = 'Thread image';
                        img.className = 'thread-image';
                        threadContent.appendChild(img);
                    }
                    
                    const threadText = document.createElement('div');
                    threadText.className = 'thread-text';
                    
                    const threadTitle = document.createElement('h3');
                    threadTitle.className = 'thread-title';
                    threadTitle.textContent = thread.title;
                    
                    const threadExcerpt = document.createElement('p');
                    threadExcerpt.className = 'thread-excerpt';
                    threadExcerpt.textContent = thread.content;
                    
                    threadText.appendChild(threadTitle);
                    threadText.appendChild(threadExcerpt);
                    
                    threadContent.appendChild(threadText);
                    
                    const threadActions = document.createElement('div');
                    threadActions.className = 'thread-actions';
                    
                    const replyBtn = document.createElement('button');
                    replyBtn.className = 'action-btn';
                    replyBtn.innerHTML = '<i class="fas fa-reply"></i> Reply';
                    replyBtn.addEventListener('click', () => {
                        showThreadPage(thread.id);
                    });
                    
                    const upvoteBtn = document.createElement('button');
                    upvoteBtn.className = 'action-btn';
                    upvoteBtn.innerHTML = '<i class="fas fa-thumbs-up"></i> Upvote';
                    upvoteBtn.addEventListener('click', () => {
                        if (!userVotes[`thread-${thread.id}`]) {
                            thread.upvotes++;
                            userVotes[`thread-${thread.id}`] = 'up';
                            upvoteBtn.classList.add('upvoted');
                            showNotification('Thread upvoted!', 'success');
                        }
                    });
                    
                    const reportBtn = document.createElement('button');
                    reportBtn.className = 'action-btn';
                    reportBtn.innerHTML = '<i class="fas fa-flag"></i> Report';
                    reportBtn.addEventListener('click', () => {
                        if (!userReports[`thread-${thread.id}`]) {
                            userReports[`thread-${thread.id}`] = true;
                            reportBtn.classList.add('reported');
                            showNotification('Thread reported for review', 'info');
                        }
                    });
                    
                    threadActions.appendChild(replyBtn);
                    threadActions.appendChild(upvoteBtn);
                    threadActions.appendChild(reportBtn);
                    
                    threadHeader.appendChild(threadMeta);
                    
                    threadEl.appendChild(threadHeader);
                    threadEl.appendChild(threadContent);
                    threadEl.appendChild(threadActions);
                    
                    threadsContainer.appendChild(threadEl);
                });
            }
        }

        function loadThread(threadId) {
            threadView.innerHTML = '';
            
            // Find the thread
            let thread = null;
            for (const board in threads) {
                const found = threads[board].find(t => t.id === parseInt(threadId));
                if (found) {
                    thread = found;
                    break;
                }
            }
            
            if (thread) {
                // Create OP post
                const opPost = document.createElement('div');
                opPost.className = 'thread';
                
                const threadHeader = document.createElement('div');
                threadHeader.className = 'thread-header';
                
                const threadMeta = document.createElement('div');
                threadMeta.className = 'thread-meta';
                
                const threadAuthor = document.createElement('div');
                threadAuthor.className = 'thread-author';
                
                const authorAvatar = document.createElement('div');
                authorAvatar.className = 'author-avatar';
                authorAvatar.textContent = thread.author.charAt(0).toUpperCase();
                
                const authorInfo = document.createElement('div');
                authorInfo.className = 'author-info';
                
                const authorName = document.createElement('div');
                authorName.className = 'author-name';
                authorName.textContent = thread.author;
                
                const authorFlair = document.createElement('div');
                authorFlair.className = 'author-flair';
                authorFlair.textContent = thread.flair;
                
                authorInfo.appendChild(authorName);
                authorInfo.appendChild(authorFlair);
                
                threadAuthor.appendChild(authorAvatar);
                threadAuthor.appendChild(authorInfo);
                
                const postInfo = document.createElement('div');
                postInfo.className = 'stat-item';
                postInfo.innerHTML = `<i class="far fa-clock"></i> ${thread.timestamp}`;
                
                threadMeta.appendChild(threadAuthor);
                threadMeta.appendChild(postInfo);
                
                const threadContent = document.createElement('div');
                threadContent.className = 'thread-content';
                
                if (thread.image) {
                    const img = document.createElement('img');
                    img.src = thread.image;
                    img.alt = 'Thread image';
                    img.className = 'thread-image';
                    threadContent.appendChild(img);
                }
                
                const threadText = document.createElement('div');
                threadText.className = 'thread-text';
                
                const threadTitle = document.createElement('h3');
                threadTitle.className = 'thread-title';
                threadTitle.textContent = thread.title;
                
                const threadExcerpt = document.createElement('p');
                threadExcerpt.className = 'thread-excerpt';
                threadExcerpt.textContent = thread.content;
                
                threadText.appendChild(threadTitle);
                threadText.appendChild(threadExcerpt);
                
                threadContent.appendChild(threadText);
                
                threadHeader.appendChild(threadMeta);
                
                opPost.appendChild(threadHeader);
                opPost.appendChild(threadContent);
                
                threadView.appendChild(opPost);
                
                // Create replies container
                const repliesContainer = document.createElement('div');
                repliesContainer.className = 'replies';
                
                // Add replies
                if (posts[threadId]) {
                    posts[threadId].forEach(post => {
                        const postEl = document.createElement('div');
                        postEl.className = 'thread';
                        
                        const postHeader = document.createElement('div');
                        postHeader.className = 'thread-header';
                        
                        const postMeta = document.createElement('div');
                        postMeta.className = 'thread-meta';
                        
                        const postAuthor = document.createElement('div');
                        postAuthor.className = 'thread-author';
                        
                        const authorAvatar = document.createElement('div');
                        authorAvatar.className = 'author-avatar';
                        authorAvatar.textContent = post.author.charAt(0).toUpperCase();
                        
                        const authorInfo = document.createElement('div');
                        authorInfo.className = 'author-info';
                        
                        const authorName = document.createElement('div');
                        authorName.className = 'author-name';
                        authorName.textContent = post.author;
                        
                        const authorFlair = document.createElement('div');
                        authorFlair.className = 'author-flair';
                        authorFlair.textContent = post.flair;
                        
                        authorInfo.appendChild(authorName);
                        authorInfo.appendChild(authorFlair);
                        
                        postAuthor.appendChild(authorAvatar);
                        postAuthor.appendChild(authorInfo);
                        
                        const postInfo = document.createElement('div');
                        postInfo.className = 'stat-item';
                        postInfo.innerHTML = `<i class="far fa-clock"></i> ${post.timestamp}`;
                        
                        postMeta.appendChild(postAuthor);
                        postMeta.appendChild(postInfo);
                        
                        const postContent = document.createElement('div');
                        postContent.className = 'thread-content';
                        
                        if (post.image) {
                            const img = document.createElement('img');
                            img.src = post.image;
                            img.alt = 'Reply image';
                            img.className = 'thread-image';
                            postContent.appendChild(img);
                        }
                        
                        const postText = document.createElement('div');
                        postText.className = 'thread-text';
                        
                        const postExcerpt = document.createElement('p');
                        postExcerpt.className = 'thread-excerpt';
                        postExcerpt.textContent = post.content;
                        
                        postText.appendChild(postExcerpt);
                        
                        postContent.appendChild(postText);
                        
                        const postActions = document.createElement('div');
                        postActions.className = 'thread-actions';
                        
                        const upvoteBtn = document.createElement('button');
                        upvoteBtn.className = 'action-btn';
                        upvoteBtn.innerHTML = '<i class="fas fa-thumbs-up"></i> Upvote';
                        upvoteBtn.addEventListener('click', () => {
                            if (!userVotes[`post-${post.id}`]) {
                                userVotes[`post-${post.id}`] = 'up';
                                upvoteBtn.classList.add('upvoted');
                                showNotification('Reply upvoted!', 'success');
                            }
                        });
                        
                        const reportBtn = document.createElement('button');
                        reportBtn.className = 'action-btn';
                        reportBtn.innerHTML = '<i class="fas fa-flag"></i> Report';
                        reportBtn.addEventListener('click', () => {
                            if (!userReports[`post-${post.id}`]) {
                                userReports[`post-${post.id}`] = true;
                                reportBtn.classList.add('reported');
                                showNotification('Reply reported for review', 'info');
                            }
                        });
                        
                        postActions.appendChild(upvoteBtn);
                        postActions.appendChild(reportBtn);
                        
                        postHeader.appendChild(postMeta);
                        
                        postEl.appendChild(postHeader);
                        postEl.appendChild(postContent);
                        postEl.appendChild(postActions);
                        
                        repliesContainer.appendChild(postEl);
                    });
                }
                
                threadView.appendChild(repliesContainer);
            }
        }

        function showNotification(message, type = 'success') {
            notificationText.textContent = message;
            notification.className = 'notification';
            notification.classList.add(type);
            
            // Update icon based on type
            const icon = notification.querySelector('i');
            if (type === 'success') {
                icon.className = 'fas fa-check-circle';
            } else if (type === 'error') {
                icon.className = 'fas fa-exclamation-circle';
            } else if (type === 'info') {
                icon.className = 'fas fa-info-circle';
            }
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Initialize the app
        showHomePage();
    </script>
</body>
</html>
